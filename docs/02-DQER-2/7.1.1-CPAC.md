# Módulo: Cadastro de Paciente
- **Sigla:** CPAC
- **Status:** ⬜ Em definição

- **Implementação:**
  - ✅ Backend
  - ⬜ Frontend
  - ⬜ Mobile
  - ⬜ Backoffice

> **Legenda:** ⬜ Pendente | ✅ Realizado | ⚠️ Ponto de atenção | ❌ Não se aplica

## Descrição
O módulo de Cadastro e Gestão de Pacientes é responsável por gerenciar todas as informações cadastrais e administrativas dos pacientes, garantindo a integridade, segurança e disponibilidade dos dados para utilização em outros módulos do sistema. Envolve o registro inicial, atualização, consulta e inativação de pacientes, assegurando a conformidade com normas de proteção de dados (LGPD).

## Escopo Inicial
- Registro de pacientes com dados essenciais (pessoais e contato).
- Edição e atualização das informações cadastrais.
- Consulta rápida por nome ou CPF.
- Inativação (exclusão lógica) de pacientes.

## Funcionalidades
- **Cadastro de Paciente:** Inclusão manual com dados básicos e complementares.
- **Gestão de Dados Cadastrais:** Edição, atualização e inativação de registros.
- **Histórico do Paciente:** Registro de interações, atendimentos e modificações (depende do módulo de auditoria).
- **Consulta Rápida:** Pesquisa por nome, documento ou outros identificadores.

## Requisitos Funcionais

- **RF-CPAC-001:** Cadastro de pacientes com campos obrigatórios
  - **Descrição:** O sistema deve permitir o cadastro de pacientes com campos obrigatórios: Nome completo, CPF, Data de nascimento, Sexo, Telefone e E-mail.
  - **Critério de aceitação:** O cadastro deve ser salvo apenas se todos os campos obrigatórios estiverem preenchidos e o CPF for válido.
  - **Prioridade:** Alta

- **RF-CPAC-002:** Edição de informações cadastrais
  - **Descrição:** O sistema deve permitir a edição das informações cadastrais do paciente, registrando um histórico de alterações.
  - **Critério de aceitação:** As alterações devem ser salvas e associadas ao usuário que realizou a modificação.
  - **Prioridade:** Alta

- **RF-CPAC-003:** Busca de pacientes por múltiplos filtros
  - **Descrição:** O sistema deve permitir a busca de pacientes por múltiplos filtros (nome, CPF, telefone).
  - **Critério de aceitação:** A pesquisa deve retornar resultados correspondentes aos filtros aplicados.
  - **Prioridade:** Alta

- **RF-CPAC-004:** Inativação de pacientes
  - **Descrição:** O sistema deve permitir a inativação de pacientes, impedindo novos registros ou edições.
  - **Critério de aceitação:** Pacientes inativados devem ser exibidos em consultas, mas não podem ser vinculados a novos atendimentos.
  - **Prioridade:** Média

- **RF-CPAC-005:** Reativação de pacientes
  - **Descrição:** O sistema deve permitir a reativação de pacientes inativados.
  - **Critério de aceitação:** Após a reativação, o paciente volta a ser elegível para novos atendimentos.
  - **Prioridade:** Média

- **RF-CPAC-006:** Exportação de dados de pacientes
  - **Descrição:** O sistema deve permitir a exportação de dados de um paciente em formato PDF.
  - **Critério de aceitação:** A exportação deve gerar um arquivo PDF com os dados cadastrais do paciente.
  - **Prioridade:** Baixa

## Requisitos Não Funcionais

- **RNF-CPAC-001:** Tempo de Resposta
  - **Descrição:** O tempo de resposta para cadastro e consulta de pacientes deve ser inferior a 2 segundos em condições normais de operação.
  - **Critério de aceitação:** Resposta inferior a 2 segundos para consultas com até 1 milhão de registros.
  - **Prioridade:** Alta

- **RNF-CPAC-002:** Conformidade com a LGPD
  - **Descrição:** O sistema deve garantir a segurança e a privacidade dos dados dos pacientes, em conformidade com a LGPD.
  - **Critério de aceitação:** Implementação de controles para consentimento de uso de dados, criptografia de dados sensíveis e registro de logs de acesso.
  - **Prioridade:** Altíssima

## Regras de Negócio

- **RN-CPAC-001:** Não é permitido cadastrar dois pacientes com o mesmo CPF.
- **RN-CPAC-002:** Pacientes inativados não podem ter suas informações alteradas.
- **RN-CPAC-003:** Todas as alterações em dados de pacientes devem ser auditáveis.

## Critérios de Aceitação

- O cadastro só será salvo se todos os campos obrigatórios forem preenchidos e validados.
- Alterações devem manter um histórico completo e não podem ser apagadas.
- Filtros de busca devem retornar resultados consistentes e rápidos.
- A inativação impede qualquer ação que envolva novos registros para o paciente.

## Dependências

- **Módulo de Segurança (DSC-CA):** Para controle de acesso e permissões de edição.
- **Módulo de Auditoria (DSC-AU):** Para registro de todas as alterações.

## Integrações

- Integração com o módulo de autenticação para registrar o usuário responsável pelas alterações.
- Integração com o módulo de auditoria para rastreio de modificações.

## Riscos

- Risco de inconsistência de dados caso não haja validação de CPF.
- Risco de violação de dados (LGPD) caso a criptografia e o controle de acesso não sejam aplicados corretamente.

## Ações Críticas do Sistema

- Exclusão lógica de pacientes (inativação).
- Edição de dados sensíveis (CPF, data de nascimento).

## Indicadores Possíveis

- Número de novos pacientes cadastrados por período (dia, semana, mês).
- Tempo médio para realizar um novo cadastro.
- Taxa de preenchimento de campos não-obrigatórios.
- Número de pacientes inativados vs. reativados por período.
