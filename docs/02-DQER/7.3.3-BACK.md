# Módulo: Backup e Recuperação
- **Sigla:** BACK
- **Status:** ⬜ Em definição

- **Implementação:**
  - ✅ Backend
  - ⬜ Frontend
  - ⬜ Mobile
  - ✅ Backoffice

> **Legenda:** ⬜ Pendente | ✅ Realizado | ⚠️ Ponto de atenção | ❌ Não se aplica

## Descrição
Este módulo garante a segurança e a disponibilidade contínua dos dados da clínica através de rotinas automáticas de backup e da capacidade de restaurar os dados em caso de falha de hardware, corrupção de dados ou outro desastre. Ele opera principalmente no backend, gerenciando cópias de segurança do banco de dados e dos arquivos armazenados.

## Escopo Inicial
- Backups diários automáticos de todos os dados da nuvem.
- Retenção dos backups por um período definido (ex: 30 dias).
- Processo de restauração de dados a ser executado pela equipe técnica.

## Funcionalidades
- **Backup Automatizado:** Executa cópias de segurança de todos os dados da aplicação em intervalos regulares e pré-definidos.
- **Retenção de Backups:** Armazena múltiplas versões dos backups, permitindo a restauração de um ponto específico no tempo (Point-in-Time Recovery).
- **Monitoramento de Backup:** Gera alertas para a equipe técnica em caso de falha em uma rotina de backup.

## Requisitos Funcionais

- **RF-BACK-001:** Execução de Backup Diário
  - **Descrição:** O sistema deve realizar um backup completo de todos os dados do servidor (banco de dados e arquivos) a cada 24 horas.
  - **Critério de aceitação:** Um novo backup completo é criado e armazenado com sucesso todos os dias.
  - **Prioridade:** Altíssima

- **RF-BACK-002:** Retenção de Backups por 30 Dias
  - **Descrição:** O sistema deve manter os backups diários disponíveis para restauração por um período de, no mínimo, 30 dias.
  - **Critério de aceitação:** Backups com mais de 30 dias são automaticamente descartados para gerenciar o custo de armazenamento.
  - **Prioridade:** Alta

- **RF-BACK-003:** Processo de Restauração
  - **Descrição:** Deve existir um procedimento documentado e testado para que a equipe técnica possa restaurar o sistema a partir de um backup em caso de desastre.
  - **Critério de aceitação:** Um teste de restauração trimestral é executado com sucesso em um ambiente de homologação.
  - **Prioridade:** Altíssima

## Requisitos Não Funcionais

- **RNF-BACK-001:** Segurança dos Backups
  - **Descrição:** Os arquivos de backup devem ser armazenados de forma segura e criptografada, preferencialmente em uma localização geográfica diferente do servidor principal para proteção contra desastres regionais.
  - **Critério de aceitação:** Os backups estão criptografados e armazenados em uma região ou provedor de nuvem distinto.
  - **Prioridade:** Altíssima

- **RNF-BACK-002:** RPO e RTO (Recovery Point/Time Objective)
  - **Descrição:** O RPO (perda máxima de dados aceitável) é de 24 horas. O RTO (tempo máximo para restaurar o serviço) é de 4 horas.
  - **Critério de aceitação:** O processo de restauração é capaz de colocar o sistema no ar em menos de 4 horas, com dados de no máximo 24 horas atrás.
  - **Prioridade:** Alta

## Dependências

- **Armazenamento (STOR):** Depende da infraestrutura de armazenamento em nuvem para guardar os arquivos de backup.
